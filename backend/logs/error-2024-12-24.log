2024-12-24T08:39:59.766Z [error]: Unknown error occurred: roles.map is not a function TypeError: roles.map is not a function
    at UserService.editUser (C:\Project_2024\Qualification_project\backend\services\userService.js:178:36)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async editUser (C:\Project_2024\Qualification_project\backend\controllers\userController.js:68:27)
{
  "name": "TypeError",
  "method": "PUT",
  "url": "/api/user/1/edit",
  "body": {
    "username": "LunaStardust",
    "email": "luna.stardust@cosmicmail.com",
    "password": "",
    "roles": "1",
    "isVerified": true
  },
  "headers": {
    "host": "localhost:7000",
    "connection": "keep-alive",
    "content-length": "110",
    "sec-ch-ua-platform": "\"Windows\"",
    "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0",
    "accept": "application/json, text/plain, */*",
    "sec-ch-ua": "\"Microsoft Edge\";v=\"131\", \"Chromium\";v=\"131\", \"Not_A Brand\";v=\"24\"",
    "content-type": "application/json",
    "sec-ch-ua-mobile": "?0",
    "origin": "http://localhost:3000",
    "sec-fetch-site": "same-site",
    "sec-fetch-mode": "cors",
    "sec-fetch-dest": "empty",
    "referer": "http://localhost:3000/",
    "accept-encoding": "gzip, deflate, br, zstd",
    "accept-language": "ru,en;q=0.9,en-GB;q=0.8,en-US;q=0.7",
    "cookie": "sessionId=s%3AwsJ8-9PIe_VMK6Ug3pyIkp1ZrO_TCJuX.mdDPoPofeNLdqSE3UJBfY90O6Fms2RmMWChzHQUZezQ"
  }
}
2024-12-24T08:42:23.480Z [error]: Unknown error occurred: roles.map is not a function TypeError: roles.map is not a function
    at UserService.editUser (C:\Project_2024\Qualification_project\backend\services\userService.js:178:36)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async editUser (C:\Project_2024\Qualification_project\backend\controllers\userController.js:68:27)
{
  "name": "TypeError",
  "method": "PUT",
  "url": "/api/user/1/edit",
  "body": {
    "username": "LunaStardust",
    "email": "luna.stardust@cosmicmail.com",
    "password": "",
    "roles": "1,2",
    "isVerified": true
  },
  "headers": {
    "host": "localhost:7000",
    "connection": "keep-alive",
    "content-length": "112",
    "user-agent": "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1 Edg/131.0.0.0",
    "accept": "application/json, text/plain, */*",
    "content-type": "application/json",
    "origin": "http://localhost:3000",
    "sec-fetch-site": "same-site",
    "sec-fetch-mode": "cors",
    "sec-fetch-dest": "empty",
    "referer": "http://localhost:3000/",
    "accept-encoding": "gzip, deflate, br, zstd",
    "accept-language": "ru,en;q=0.9,en-GB;q=0.8,en-US;q=0.7",
    "cookie": "sessionId=s%3AwsJ8-9PIe_VMK6Ug3pyIkp1ZrO_TCJuX.mdDPoPofeNLdqSE3UJBfY90O6Fms2RmMWChzHQUZezQ"
  }
}
2024-12-24T08:45:42.962Z [error]: Unknown error occurred: Unknown column 'NaN' in 'where clause' Error
    at Query.run (C:\Project_2024\Qualification_project\backend\node_modules\sequelize\lib\dialects\mysql\query.js:52:25)
    at C:\Project_2024\Qualification_project\backend\node_modules\sequelize\lib\sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async MySQLQueryInterface.select (C:\Project_2024\Qualification_project\backend\node_modules\sequelize\lib\dialects\abstract\query-interface.js:407:12)
    at async User_Role.findAll (C:\Project_2024\Qualification_project\backend\node_modules\sequelize\lib\model.js:1140:21)
    at async User_Role.findOne (C:\Project_2024\Qualification_project\backend\node_modules\sequelize\lib\model.js:1240:12)
    at async User_Role.findOrCreate (C:\Project_2024\Qualification_project\backend\node_modules\sequelize\lib\model.js:1411:21)
    at async UserService.editUser (C:\Project_2024\Qualification_project\backend\services\userService.js:189:9)
    at async editUser (C:\Project_2024\Qualification_project\backend\controllers\userController.js:72:27)
{
  "name": "SequelizeDatabaseError",
  "method": "PUT",
  "url": "/api/user/1/edit",
  "body": {
    "username": "LunaStardust",
    "email": "luna.stardust@cosmicmail.com",
    "password": "",
    "roles": "",
    "isVerified": true
  },
  "headers": {
    "host": "localhost:7000",
    "connection": "keep-alive",
    "content-length": "109",
    "sec-ch-ua-platform": "\"Windows\"",
    "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0",
    "accept": "application/json, text/plain, */*",
    "sec-ch-ua": "\"Microsoft Edge\";v=\"131\", \"Chromium\";v=\"131\", \"Not_A Brand\";v=\"24\"",
    "content-type": "application/json",
    "sec-ch-ua-mobile": "?0",
    "origin": "http://localhost:3000",
    "sec-fetch-site": "same-site",
    "sec-fetch-mode": "cors",
    "sec-fetch-dest": "empty",
    "referer": "http://localhost:3000/",
    "accept-encoding": "gzip, deflate, br, zstd",
    "accept-language": "ru,en;q=0.9,en-GB;q=0.8,en-US;q=0.7",
    "cookie": "sessionId=s%3AwsJ8-9PIe_VMK6Ug3pyIkp1ZrO_TCJuX.mdDPoPofeNLdqSE3UJBfY90O6Fms2RmMWChzHQUZezQ"
  }
}
